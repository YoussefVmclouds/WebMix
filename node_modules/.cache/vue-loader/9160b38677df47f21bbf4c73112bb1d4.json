{"remainingRequest":"/Users/youssef/Downloads/WebMix/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/youssef/Downloads/WebMix/src/views/JanusVideo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/youssef/Downloads/WebMix/src/views/JanusVideo.vue","mtime":1648153376511},{"path":"/Users/youssef/Downloads/WebMix/node_modules/cache-loader/dist/cjs.js","mtime":1644235715462},{"path":"/Users/youssef/Downloads/WebMix/node_modules/babel-loader/lib/index.js","mtime":1644235715748},{"path":"/Users/youssef/Downloads/WebMix/node_modules/cache-loader/dist/cjs.js","mtime":1644235715462},{"path":"/Users/youssef/Downloads/WebMix/node_modules/vue-loader/lib/index.js","mtime":1644235714281}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBKYW51cyBmcm9tICcuL2phbnVzJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdKYW51c1ZpZGVvJywKICBwcm9wczogewogICAgLy8gY2FtZXJhczogewogICAgLy8gICB0eXBlOiBBcnJheSwKICAgIC8vICAgcmVxdWlyZWQ6IHRydWUKICAgIC8vIH0sCiAgICBqYW51czogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0KICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RyZWFtaW5nOiBbXSwKICAgICAgY2FtZXJhczogW10sCiAgICAgIHNlcnZlckxpc3Q6W10sCiAgICAgIHdhdGNoSUQ6bnVsbCwKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5pbml0SmFudXMoKQogIH0sCiAgbWV0aG9kczogewogICAgLy8gSW5pdCBKYW51cwogICAgaW5pdEphbnVzICgpIHsKICAgICAgICAvLyAgdGhpcy5qYW51cy5hdHRhY2guYmluZCh7eDoxfSkKICAgICAgICAgdGhpcy5qYW51cy5hdHRhY2goCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wYXF1ZUlkOiAndGVzdC0nLAoKICAgICAgICAgICAgcGx1Z2luOiAnamFudXMucGx1Z2luLnN0cmVhbWluZycsCiAgICAgICAgICAgIHN1Y2Nlc3M6ICAocGx1Z2luSGFuZGxlKSA9PnsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYGl0ZXJhdGlvbiAke2l9IGphbnVzIGF0dGFjaCAtIG9uU3VjY2VzcyBjYWxsZWQsIHBsdWdpbiBoYW5kbGU6OmAsIHBsdWdpbkhhbmRsZSkKICAgICAgICAgICAgICBpZiAocGx1Z2luSGFuZGxlKSB7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncGx1Z2luSGFuZGxlPScsIHBsdWdpbkhhbmRsZSkKCgogICAgICAgICAgICAgICAgbGV0IGJvZHkgPSB7ICdyZXF1ZXN0JzogJ2xpc3QnIH0KICAgICAgICAgICAgICAgIC8vIGxldCBib2R5ID0geyAncmVxdWVzdCc6ICd3YXRjaCcsIGlkOiBwYXJzZUludCgnMTIzJykgfQoKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBpdGVyYXRpb24gJHtpfSBzZW5kaW5nIHdhdGNoIHJlcXVlc3Q6OmApCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLndhdGNoSUQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5wcnYKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImxvb2tpbmcgZm9yICgiLHRoaXMud2F0Y2hJRCwiKSBhcyBjYW1lcmFzIHByZXZpZXciKQoKICAgICAgICAgICAgICAgIHBsdWdpbkhhbmRsZS5zZW5kKHsgJ21lc3NhZ2UnOiBib2R5LAogICAgICAgICAgICAgICAgICBzdWNjZXNzOiAocmVzdWx0KT0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJMaXN0PXJlc3VsdC5saXN0CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJMaXN0LmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy53YXRjaElEICE9bnVsbCl7CiAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtZW50LmRlc2NyaXB0aW9uLnNlYXJjaCh0aGlzLndhdGNoSUQpPi0xKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLnB1c2goZWxlbWVudC5pZCkKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAvLyB0ZXN0CiAgY29uc3Qgdm0gPSB0aGlzCmZvciAobGV0IGkgPSAwOyBpIDwgdm0uY2FtZXJhcy5sZW5ndGg7IGkrKykgewogICAgICAgIC8vIGNvbnNvbGUubG9nKGB0aGlzIGlzIGl0ZXJhdGlvbiAke2kuaWR9IG9mIHRoZSBmb3IgbG9vcGApCiAgICAgICAgdGhpcy5qYW51cy5hdHRhY2goCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wYXF1ZUlkOiAndGVzdC0nICsgaSwKCiAgICAgICAgICAgIHBsdWdpbjogJ2phbnVzLnBsdWdpbi5zdHJlYW1pbmcnLAogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGx1Z2luSGFuZGxlKSB7CiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYGl0ZXJhdGlvbiAke2l9IGphbnVzIGF0dGFjaCAtIG9uU3VjY2VzcyBjYWxsZWQsIHBsdWdpbiBoYW5kbGU6OmAsIHBsdWdpbkhhbmRsZSkKICAgICAgICAgICAgICBpZiAocGx1Z2luSGFuZGxlKSB7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncGx1Z2luSGFuZGxlPScsIHBsdWdpbkhhbmRsZSkKICAgICAgICAgICAgICAgIHZtLnN0cmVhbWluZy5wdXNoKHsgaWQ6IGksIHBsdWdpbjogcGx1Z2luSGFuZGxlIH0pCiAgICAgICAgICAgICAgICAvLyB2bS5zdHJlYW1pbmcucHVzaCh7IGlkOiBwYXJzZUludCgnMScpLCBwbHVnaW46IHBsdWdpbkhhbmRsZSB9KQogICAgICAgICAgICAgICAgbGV0IGJvZHkgPSB7ICdyZXF1ZXN0JzogJ3dhdGNoJywgaWQ6IHZtLmNhbWVyYXNbaV0gfQogICAgICAgICAgICAgICAgLy8gbGV0IGJvZHkgPSB7ICdyZXF1ZXN0JzogJ3dhdGNoJywgaWQ6IHBhcnNlSW50KCcxJykgfQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYGl0ZXJhdGlvbiAke2l9IHNlbmRpbmcgd2F0Y2ggcmVxdWVzdDo6JHtib2R5fWApCiAgICAgICAgICAgICAgICBwbHVnaW5IYW5kbGUuc2VuZCh7ICdtZXNzYWdlJzogYm9keSB9KQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgeyBjb25zb2xlLmxvZyhlcnJvcikgfSwKICAgICAgICAgICAgb25tZXNzYWdlOiBmdW5jdGlvbiAobXNnLCBqc2VwKSB7CiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYGl0ZXJhdGlvbiAke2l9IG5ldyBtZXNzYWdlIHJlY2VpdmVkISBtc2c6OmAsIG1zZykKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgaXRlcmF0aW9uICR7aX0gdGhlIGFjY29tcGFueWluZyBqc2VwIHdhczo6YCwganNlcCkKCiAgICAgICAgICAgICAgaWYgKGpzZXAgIT09IHVuZGVmaW5lZCAmJiBqc2VwICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgaXRlcmF0aW9uICR7aX0ganNlcCB3YXMgbm90IG51bGwgb3IgdW5kZWZpbmVkIFRISVMgSVMgR09PRGApCgogICAgICAgICAgICAgICAgY29uc3QgZm91bmRTdHJlYW0gPSB2bS5zdHJlYW1pbmcuZmluZChzID0+IHMuaWQgPT09IGkpCgogICAgICAgICAgICAgICAgaWYgKGpzZXAudHlwZSA9PT0gJ29mZmVyJykgewogICAgICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhgaXRlcmF0aW9uICR7aX0gdGhlIGpzZXAgdHlwZSB3YXMgYW4gb2ZmZXIsIGxldHMgbWFrZSBhbiBhbnN3ZXJgKQogICAgICAgICAgICAgICAgICBmb3VuZFN0cmVhbS5wbHVnaW4uY3JlYXRlQW5zd2VyKAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIGpzZXAsCiAgICAgICAgICAgICAgICAgICAgICBtZWRpYTogeyBhdWRpb1NlbmQ6IGZhbHNlLCB2aWRlb1NlbmQ6IGZhbHNlIH0sCiAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoanNlcCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgaXRlcmF0aW9uICR7aX0gc2VuZGluZyBhIG1lc3NhZ2UgdG8gcmVxdWVzdCB0aGUgc3RyZWFtIHN0YXJ0c2ApCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7ICdyZXF1ZXN0JzogJ3N0YXJ0JyB9CgogICAgICAgICAgICAgICAgICAgICAgICBmb3VuZFN0cmVhbS5wbHVnaW4uc2VuZCh7ICdtZXNzYWdlJzogYm9keSwgJ2pzZXAnOiBqc2VwIH0pCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICBKYW51cy5lcnJvcignV2ViUlRDIGVycm9yOicsIGVycm9yKQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25yZW1vdGVzdHJlYW06IGZ1bmN0aW9uIChzdHJlYW0pIHsKICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhgaXRlcmF0aW9uICR7aX0gb24gcmVtb3RlIHN0cmVhbSBiZWluZyBjYWxsZWRgKQogICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgamFudXNWaWRlbyR7aX1gKQogICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRBdWRpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBqYW51c0F1ZGlvJHtpfWApCiAgICAgICAgICAgICAgSmFudXMuYXR0YWNoTWVkaWFTdHJlYW0oZWxlbWVudCwgc3RyZWFtKQogICAgICAgICAgICAgIEphbnVzLmF0dGFjaE1lZGlhU3RyZWFtKGVsZW1lbnRBdWRpbywgc3RyZWFtKQogICAgICAgICAgICB9LAogICAgICAgICAgfSkKICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIGVuZCB0ZXN0CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgeyBjb25zb2xlLmxvZyhlcnJvcikgfSwKCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH19KTsKICAgICAgLy8gY29uc3Qgdm0gPSB0aGlzCiAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdm0uY2FtZXJhcy5sZW5ndGg7IGkrKykgewogICAgICAvLyAgIC8vIGNvbnNvbGUubG9nKGB0aGlzIGlzIGl0ZXJhdGlvbiAke2kuaWR9IG9mIHRoZSBmb3IgbG9vcGApCiAgICAgIC8vICAgdGhpcy5qYW51cy5hdHRhY2goCiAgICAgIC8vICAgICB7CiAgICAgIC8vICAgICAgIG9wYXF1ZUlkOiAndGVzdC0nICsgaSwKCiAgICAgIC8vICAgICAgIHBsdWdpbjogJ2phbnVzLnBsdWdpbi5zdHJlYW1pbmcnLAogICAgICAvLyAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGx1Z2luSGFuZGxlKSB7CiAgICAgIC8vICAgICAgICAgLy8gY29uc29sZS5sb2coYGl0ZXJhdGlvbiAke2l9IGphbnVzIGF0dGFjaCAtIG9uU3VjY2VzcyBjYWxsZWQsIHBsdWdpbiBoYW5kbGU6OmAsIHBsdWdpbkhhbmRsZSkKICAgICAgLy8gICAgICAgICBpZiAocGx1Z2luSGFuZGxlKSB7CiAgICAgIC8vICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncGx1Z2luSGFuZGxlPScsIHBsdWdpbkhhbmRsZSkKCiAgICAgIC8vICAgICAgICAgICAvLyB2bS5zdHJlYW1pbmcucHVzaCh7IGlkOiB2bS5jYW1lcmFzW2ldLCBwbHVnaW46IHBsdWdpbkhhbmRsZSB9KQogICAgICAvLyAgICAgICAgICAgdm0uc3RyZWFtaW5nLnB1c2goeyBpZDogcGFyc2VJbnQoJzEnKSwgcGx1Z2luOiBwbHVnaW5IYW5kbGUgfSkKCiAgICAgIC8vICAgICAgICAgICAvLyBsZXQgYm9keSA9IHsgJ3JlcXVlc3QnOiAnd2F0Y2gnLCBpZDogaSB9CiAgICAgIC8vICAgICAgICAgICBsZXQgYm9keSA9IHsgJ3JlcXVlc3QnOiAnd2F0Y2gnLCBpZDogcGFyc2VJbnQoJzEnKSB9CgogICAgICAvLyAgICAgICAgICAgLy8gY29uc29sZS5sb2coYGl0ZXJhdGlvbiAke2l9IHNlbmRpbmcgd2F0Y2ggcmVxdWVzdDo6JHtib2R5fWApCgogICAgICAvLyAgICAgICAgICAgcGx1Z2luSGFuZGxlLnNlbmQoeyAnbWVzc2FnZSc6IGJvZHkgfSkKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgIH0sCiAgICAgIC8vICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsgY29uc29sZS5sb2coZXJyb3IpIH0sCiAgICAgIC8vICAgICAgIG9ubWVzc2FnZTogZnVuY3Rpb24gKG1zZywganNlcCkgewogICAgICAvLyAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBpdGVyYXRpb24gJHtpfSBuZXcgbWVzc2FnZSByZWNlaXZlZCEgbXNnOjpgLCBtc2cpCiAgICAgIC8vICAgICAgICAgLy8gY29uc29sZS5sb2coYGl0ZXJhdGlvbiAke2l9IHRoZSBhY2NvbXBhbnlpbmcganNlcCB3YXM6OmAsIGpzZXApCgogICAgICAvLyAgICAgICAgIGlmIChqc2VwICE9PSB1bmRlZmluZWQgJiYganNlcCAhPT0gbnVsbCkgewogICAgICAvLyAgICAgICAgICAgLy8gY29uc29sZS5sb2coYGl0ZXJhdGlvbiAke2l9IGpzZXAgd2FzIG5vdCBudWxsIG9yIHVuZGVmaW5lZCBUSElTIElTIEdPT0RgKQoKICAgICAgLy8gICAgICAgICAgIGNvbnN0IGZvdW5kU3RyZWFtID0gdm0uc3RyZWFtaW5nLmZpbmQocyA9PiBzLmlkID09PSBpKQoKICAgICAgLy8gICAgICAgICAgIGlmIChqc2VwLnR5cGUgPT09ICdvZmZlcicpIHsKICAgICAgLy8gICAgICAgICAgIC8vICAgY29uc29sZS5sb2coYGl0ZXJhdGlvbiAke2l9IHRoZSBqc2VwIHR5cGUgd2FzIGFuIG9mZmVyLCBsZXRzIG1ha2UgYW4gYW5zd2VyYCkKICAgICAgLy8gICAgICAgICAgICAgZm91bmRTdHJlYW0ucGx1Z2luLmNyZWF0ZUFuc3dlcigKICAgICAgLy8gICAgICAgICAgICAgICB7CiAgICAgIC8vICAgICAgICAgICAgICAgICBqc2VwLAogICAgICAvLyAgICAgICAgICAgICAgICAgbWVkaWE6IHsgYXVkaW9TZW5kOiBmYWxzZSwgdmlkZW9TZW5kOiBmYWxzZSB9LAogICAgICAvLyAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGpzZXApIHsKICAgICAgLy8gICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYGl0ZXJhdGlvbiAke2l9IHNlbmRpbmcgYSBtZXNzYWdlIHRvIHJlcXVlc3QgdGhlIHN0cmVhbSBzdGFydHNgKQogICAgICAvLyAgICAgICAgICAgICAgICAgICBjb25zdCBib2R5ID0geyAncmVxdWVzdCc6ICdzdGFydCcgfQoKICAgICAgLy8gICAgICAgICAgICAgICAgICAgZm91bmRTdHJlYW0ucGx1Z2luLnNlbmQoeyAnbWVzc2FnZSc6IGJvZHksICdqc2VwJzoganNlcCB9KQogICAgICAvLyAgICAgICAgICAgICAgICAgfSwKICAgICAgLy8gICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgLy8gICAgICAgICAgICAgICAgICAgSmFudXMuZXJyb3IoJ1dlYlJUQyBlcnJvcjonLCBlcnJvcikKICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgLy8gICAgICAgICAgICAgICB9CiAgICAgIC8vICAgICAgICAgICAgICkKICAgICAgLy8gICAgICAgICAgIH0KICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgIH0sCiAgICAgIC8vICAgICAgIG9ucmVtb3Rlc3RyZWFtOiBmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgIC8vICAgICAgIC8vICAgY29uc29sZS5sb2coYGl0ZXJhdGlvbiAke2l9IG9uIHJlbW90ZSBzdHJlYW0gYmVpbmcgY2FsbGVkYCkKICAgICAgLy8gICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGphbnVzVmlkZW8ke2l9YCkKICAgICAgLy8gICAgICAgICBKYW51cy5hdHRhY2hNZWRpYVN0cmVhbShlbGVtZW50LCBzdHJlYW0pCiAgICAgIC8vICAgICAgIH0sCiAgICAgIC8vICAgICB9KQogICAgICAvLyB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["JanusVideo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"JanusVideo.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <!-- Janus Video -->\n  <div>\n    <div\n    :key=\"camera\"\n      v-for=\"(camera, i) in cameras\">\n    <video\n      :id=\"`janusVideo${i}`\"\n      class=\"janus-video\"\n      playsinline\n      autoplay\n      controls\n      muted\n    ></video>\n    <audio\n    :id=\"`janusAudio${i}`\"\n    :ref=\"`janusAudio${i}`\"\n    autoplay\n    muted=\"false\"\n    ></audio>\n    <av-bars :ref-link=\"`janusAudio${i}`\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Janus from './janus'\n\nexport default {\n  name: 'JanusVideo',\n  props: {\n    // cameras: {\n    //   type: Array,\n    //   required: true\n    // },\n    janus: {\n      type: Object\n    }\n  },\n  data () {\n    return {\n      streaming: [],\n      cameras: [],\n      serverList:[],\n      watchID:null,\n    }\n  },\n  mounted () {\n    this.initJanus()\n  },\n  methods: {\n    // Init Janus\n    initJanus () {\n        //  this.janus.attach.bind({x:1})\n         this.janus.attach(\n          {\n            opaqueId: 'test-',\n\n            plugin: 'janus.plugin.streaming',\n            success:  (pluginHandle) =>{\n            // console.log(`iteration ${i} janus attach - onSuccess called, plugin handle::`, pluginHandle)\n              if (pluginHandle) {\n                // console.log('pluginHandle=', pluginHandle)\n\n\n                let body = { 'request': 'list' }\n                // let body = { 'request': 'watch', id: parseInt('123') }\n\n                // console.log(`iteration ${i} sending watch request::`)\n                      this.watchID = this.$route.query.prv\n                        console.log(\"looking for (\",this.watchID,\") as cameras preview\")\n\n                pluginHandle.send({ 'message': body,\n                  success: (result)=> {\n                    console.log(result)\n                    this.serverList=result.list\n                    this.serverList.forEach(element => {\n                    if(this.watchID !=null){\n                      if(element.description.search(this.watchID)>-1){\n                        this.cameras.push(element.id)\n                      }\n                      }\n                    });\n                    // test\n  const vm = this\nfor (let i = 0; i < vm.cameras.length; i++) {\n        // console.log(`this is iteration ${i.id} of the for loop`)\n        this.janus.attach(\n          {\n            opaqueId: 'test-' + i,\n\n            plugin: 'janus.plugin.streaming',\n            success: function (pluginHandle) {\n              // console.log(`iteration ${i} janus attach - onSuccess called, plugin handle::`, pluginHandle)\n              if (pluginHandle) {\n                // console.log('pluginHandle=', pluginHandle)\n                vm.streaming.push({ id: i, plugin: pluginHandle })\n                // vm.streaming.push({ id: parseInt('1'), plugin: pluginHandle })\n                let body = { 'request': 'watch', id: vm.cameras[i] }\n                // let body = { 'request': 'watch', id: parseInt('1') }\n                // console.log(`iteration ${i} sending watch request::${body}`)\n                pluginHandle.send({ 'message': body })\n              }\n            },\n            error: function (error) { console.log(error) },\n            onmessage: function (msg, jsep) {\n              // console.log(`iteration ${i} new message received! msg::`, msg)\n              // console.log(`iteration ${i} the accompanying jsep was::`, jsep)\n\n              if (jsep !== undefined && jsep !== null) {\n                // console.log(`iteration ${i} jsep was not null or undefined THIS IS GOOD`)\n\n                const foundStream = vm.streaming.find(s => s.id === i)\n\n                if (jsep.type === 'offer') {\n                //   console.log(`iteration ${i} the jsep type was an offer, lets make an answer`)\n                  foundStream.plugin.createAnswer(\n                    {\n                      jsep,\n                      media: { audioSend: false, videoSend: false },\n                      success: function (jsep) {\n                        // console.log(`iteration ${i} sending a message to request the stream starts`)\n                        const body = { 'request': 'start' }\n\n                        foundStream.plugin.send({ 'message': body, 'jsep': jsep })\n                      },\n                      error: function (error) {\n                        Janus.error('WebRTC error:', error)\n                      }\n                    }\n                  )\n                }\n              }\n            },\n            onremotestream: function (stream) {\n            //   console.log(`iteration ${i} on remote stream being called`)\n              const element = document.getElementById(`janusVideo${i}`)\n              const elementAudio = document.getElementById(`janusAudio${i}`)\n              Janus.attachMediaStream(element, stream)\n              Janus.attachMediaStream(elementAudio, stream)\n            },\n          })\n      }\n                    // end test\n                    },\n                  error: function (error) { console.log(error) },\n\n                    })\n              }\n            }});\n      // const vm = this\n      // for (let i = 0; i < vm.cameras.length; i++) {\n      //   // console.log(`this is iteration ${i.id} of the for loop`)\n      //   this.janus.attach(\n      //     {\n      //       opaqueId: 'test-' + i,\n\n      //       plugin: 'janus.plugin.streaming',\n      //       success: function (pluginHandle) {\n      //         // console.log(`iteration ${i} janus attach - onSuccess called, plugin handle::`, pluginHandle)\n      //         if (pluginHandle) {\n      //           // console.log('pluginHandle=', pluginHandle)\n\n      //           // vm.streaming.push({ id: vm.cameras[i], plugin: pluginHandle })\n      //           vm.streaming.push({ id: parseInt('1'), plugin: pluginHandle })\n\n      //           // let body = { 'request': 'watch', id: i }\n      //           let body = { 'request': 'watch', id: parseInt('1') }\n\n      //           // console.log(`iteration ${i} sending watch request::${body}`)\n\n      //           pluginHandle.send({ 'message': body })\n      //         }\n      //       },\n      //       error: function (error) { console.log(error) },\n      //       onmessage: function (msg, jsep) {\n      //         // console.log(`iteration ${i} new message received! msg::`, msg)\n      //         // console.log(`iteration ${i} the accompanying jsep was::`, jsep)\n\n      //         if (jsep !== undefined && jsep !== null) {\n      //           // console.log(`iteration ${i} jsep was not null or undefined THIS IS GOOD`)\n\n      //           const foundStream = vm.streaming.find(s => s.id === i)\n\n      //           if (jsep.type === 'offer') {\n      //           //   console.log(`iteration ${i} the jsep type was an offer, lets make an answer`)\n      //             foundStream.plugin.createAnswer(\n      //               {\n      //                 jsep,\n      //                 media: { audioSend: false, videoSend: false },\n      //                 success: function (jsep) {\n      //                   // console.log(`iteration ${i} sending a message to request the stream starts`)\n      //                   const body = { 'request': 'start' }\n\n      //                   foundStream.plugin.send({ 'message': body, 'jsep': jsep })\n      //                 },\n      //                 error: function (error) {\n      //                   Janus.error('WebRTC error:', error)\n      //                 }\n      //               }\n      //             )\n      //           }\n      //         }\n      //       },\n      //       onremotestream: function (stream) {\n      //       //   console.log(`iteration ${i} on remote stream being called`)\n      //         const element = document.getElementById(`janusVideo${i}`)\n      //         Janus.attachMediaStream(element, stream)\n      //       },\n      //     })\n      // }\n    }\n  }\n}\n</script>\n\n// <style scoped lang=\"sass\">\n// .janus-video\n//   width: 350px\n//   height: 200px\n//   background: black\n//   border: 5px solid rgba(35, 177, 104, 0.83)\n//   margin: 30px 10px\n// </style>\n\n<style scoped lang=\"sass\">\n.janus-video\n  width: 200px\n  height: 115px\n  background: black\n  border: 3px solid #666\n  margin: 5px 10px\n</style>"]}]}